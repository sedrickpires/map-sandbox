{"version":3,"sources":["reducers/App/index.js","components/Map/index.js","reducers/Markers/index.js","components/Sidebar/MarkersPanel/AddMarkersForm/index.js","components/Sidebar/MarkersPanel/MarkersList/index.js","components/Sidebar/MarkersPanel/index.js","components/Sidebar/index.js","App.js","reportWebVitals.js","reducers/index.js","store/index.js","index.js"],"names":["AppSlice","createSlice","name","initialState","menuOpen","reducers","toggleMenu","state","action","actions","MenuControl","clickHandler","className","size","icon","MenuFoldOutlined","onClick","type","mapDispatch","connect","markers","useState","mapInstance","setMapInstance","useEffect","length","visible","setView","latitude","longitude","getZoom","newMapBounds","forEach","m","push","fitBounds","mapInitCallback","useCallback","map","console","log","MapContainer","center","zoom","whenCreated","TileLayer","url","attribution","Marker","position","id","MarkersSlice","addMarker","payload","removeMarker","filter","o","toggleMakerVisible","markerIndex","findIndex","updateMarker","Form","useForm","form","onFinish","values","markerInfo","Date","now","coordinatesString","coordinatesArr","split","parseFloat","trim","getCoordinates","coordinates","resetFields","layout","span","Item","label","rules","required","pattern","message","tooltip","htmlType","handleMarkerDelete","marker","handleMarkerHide","columns","title","dataIndex","key","render","text","record","EyeOutlined","EyeInvisibleOutlined","shape","align","DeleteOutlined","dataSource","pagination","footer","bordered","MarkersPanel","Panel","Collapse","renderMenuTitle","MenuUnfoldOutlined","style","float","menuVisible","app","placement","width","closable","onClose","headerStyle","background","color","defaultActiveKey","header","disabled","App","Map","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","combineReducers","MarkersReducer","AppReducer","store","configureStore","reducer","RootReducer","ReactDOM","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.9c48d03b.chunk.js","sourcesContent":["import { createSlice } from \"@reduxjs/toolkit\";\n\nconst initialState = {\n  menuOpen: true,\n};\nconst AppSlice = createSlice({\n  name: \"markers\",\n  initialState: initialState,\n  reducers: {\n    toggleMenu(state, action) {\n      state.menuOpen = !state.menuOpen;\n    },\n  },\n});\n\nexport const { toggleMenu } = AppSlice.actions;\n\nexport default AppSlice.reducer;\n","import React, { useEffect, useState, useCallback } from \"react\";\nimport { MapContainer, TileLayer, Marker } from \"react-leaflet\";\nimport { Button } from 'antd';\nimport { MenuFoldOutlined } from '@ant-design/icons';\nimport { connect } from 'react-redux';\nimport { toggleMenu } from '../../reducers/App';\n\n\nconst MenuControl = ({ clickHandler }) => {\n  return <div className=\"leaflet-top leaflet-right\">\n      <div className=\"leaflet-control leaflet-bar menu-control\">\n        <Button  size=\"large\" icon={<MenuFoldOutlined />} onClick={clickHandler} type=\"primary\"></Button>\n      </div>\n  </div>\n}\n\n\n\nconst MapComponent = ({ toggleMenu, markers }) => {\n  const [mapInstance, setMapInstance] = useState(null);\n\n  const handleMenuClick = () => {\n    toggleMenu()\n  }\n\n  useEffect(()=>{\n    \n    if (mapInstance && markers) {\n      // Handle Map view if only marker has to be rendered.\n      if (markers.length === 1 && markers[0].visible){\n        mapInstance.setView([markers[0].latitude, markers[0].longitude], mapInstance.getZoom())\n      }else if (  markers.length > 1) { // Handle map view if multiple markers have to be rendered.\n        let newMapBounds = [];\n        markers.forEach(m => {\n          if (m.visible){\n            newMapBounds.push([m.latitude, m.longitude]);\n          }\n        });\n        mapInstance.fitBounds(newMapBounds);\n      }\n    }\n    \n  },[markers, mapInstance]);\n\n  const mapInitCallback = useCallback((map)=>{\n    setMapInstance(map);\n  },[])\n\n  console.log(\"Markers\", markers);\n  return (\n    <div>\n      <MapContainer center={[45.4, -75.7]} zoom={12} whenCreated={mapInitCallback}>\n        <TileLayer\n          url=\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"\n          attribution='&copy; <a href=\"http://osm.org/copyright\">OpenStreetMap</a> contributors'\n        />\n        {\n          markers?.length && markers.map(m => m.visible ? <Marker key={m.id} position={[m.latitude, m.longitude]}/> : null)\n        }\n        <MenuControl clickHandler={handleMenuClick}/>\n      </MapContainer>\n    </div>\n  );\n};\n\n\n\nconst mapStateToProps = state => ({\n  markers: state.markers,\n});\n\nconst mapDispatch = { toggleMenu }\n\nexport default connect(mapStateToProps, mapDispatch)(MapComponent);\n","import { createSlice } from '@reduxjs/toolkit';\n\nconst MarkersSlice = createSlice({\n  name: 'markers',\n  initialState: [],\n  reducers: {\n    addMarker(state, action) {\n      state.push(action.payload);\n    },\n    removeMarker(state, action) {\n      const { payload: { id } } = action;\n      return state.filter(o => o.id !== id )\n    },\n    toggleMakerVisible(state, action) {\n      const { payload: { id } } = action;\n      const markerIndex = state.findIndex(o => o.id === id);\n      if (markerIndex >= 0) {\n         state[markerIndex].visible = !(state[markerIndex].visible);\n      }\n    },\n    updateMarker(state, action) {\n\n    }\n  }\n\n})\n\n\nexport const { addMarker, removeMarker, toggleMakerVisible, updateMarker } = MarkersSlice.actions;\n\nexport default MarkersSlice.reducer;","import React from \"react\";\nimport { Row, Col, Button, Form, Input } from \"antd\";\nimport { addMarker } from '../../../../reducers/Markers';\nimport { connect } from 'react-redux'\n\nconst AddMarkersForm =  ({ addMarker }) => {\n  const [form] = Form.useForm();\n\n  const getCoordinates = (coordinatesString) => {\n    let coordinatesArr = coordinatesString.split(\",\");\n    return {\n      latitude: parseFloat((coordinatesArr[0]).trim()),\n      longitude:  parseFloat((coordinatesArr[1]).trim()),\n    }\n  };\n\n  const handleFormSubmit = values => {\n    let markerInfo = {\n      visible: true,\n      id: Date.now(),\n      ...getCoordinates(values.coordinates)\n    };\n    addMarker(markerInfo);\n    form.resetFields();\n  };\n\n  return (\n    <Form form={form}  onFinish={handleFormSubmit} layout=\"vertical\">\n    <Row>\n      <Col span={24}>\n        <Row>\n          <Col span={24}>\n          <Form.Item \n            name=\"coordinates\" \n            label=\"Coordinates\" \n            rules={[{ required: true }, { pattern: /^[-+]?([1-8]?\\d(\\.\\d+)?|90(\\.0+)?),\\s*[-+]?(180(\\.0+)?|((1[0-7]\\d)|([1-9]?\\d))(\\.\\d+)?)$/g, message: 'Enter a valid latitude' }]}\n            tooltip=\"e.g 48.8583701,2.2922926\"\n            >\n            <Input />\n          </Form.Item>\n          </Col>\n        </Row>\n        <Row>\n          <Col >\n            <Button htmlType=\"submit\" className=\"add-marker-button\" type={'primary'}>Add Marker</Button>\n          </Col>\n        </Row>\n      </Col>\n    </Row>\n    </Form>\n  );\n}\n\nconst mapDispatch = { addMarker };\n\nexport default connect(null, mapDispatch)(AddMarkersForm);\n","import React, { useCallback } from 'react';\nimport { connect } from 'react-redux';\nimport { Table, Button } from 'antd';\nimport { EyeOutlined, EyeInvisibleOutlined, DeleteOutlined } from '@ant-design/icons';\nimport './index.scss'\nimport { removeMarker, toggleMakerVisible } from '../../../../reducers/Markers'\n\n\nconst MarkersList = ({ markers, removeMarker, toggleMakerVisible }) => {\n\nconst handleMarkerDelete = useCallback((marker)=>{\n  const { id } = marker;\n  removeMarker({id});\n},[removeMarker]);\n\nconst handleMarkerHide = useCallback((marker)=> {\n  const { id } = marker;\n  toggleMakerVisible({id});\n},[toggleMakerVisible]);\n \n\nconst getColumns = () => (\n  [\n    {\n      title: 'Visibility',\n      dataIndex: 'visible',\n      key: 'visibility',\n      render: (text, record) => <Button icon={record.visible ? <EyeOutlined /> : <EyeInvisibleOutlined />} type={record.visible ? \"primary\": \"default\"} shape=\"circle\" onClick={()=> handleMarkerHide(record)}></Button>\n    },\n    {\n      title: 'Coordiantes',\n      dataIndex: 'coordinates',\n      key: 'coordinates',\n      render: (text, record) => <div className=\"cooridnates\">{`${record.latitude}, ${record.longitude}`}</div>\n    },\n    {\n      title: 'Options',\n      key: 'options',\n      align: 'center',\n      render: (text, record) => (<DeleteOutlined onClick={() => handleMarkerDelete(record)}/>)\n    }\n  ]\n)  \n\nreturn (\n  <Table columns={getColumns()} dataSource={markers} pagination={false}  footer={null} size={'small'} bordered/>\n  )\n}\n\nconst mapStateToProps = state => ({\n  markers: state.markers\n});\n\nconst mapDispatch = { removeMarker, toggleMakerVisible };\n\nexport default connect(mapStateToProps, mapDispatch)(MarkersList);","import React from 'react';\nimport AddMarkersForm from './AddMarkersForm';\n\n\nimport MarkersList from './MarkersList';\n\nconst MarkersPanel  = () => {\n\n\n  return (\n    <div>\n        <AddMarkersForm  />\n        <MarkersList />\n    </div>\n  )\n\n}\n\n\n\n\n\nexport default (MarkersPanel);","import React from \"react\";\nimport { Drawer, Collapse, Row, Col, Button } from \"antd\";\nimport { connect } from \"react-redux\";\nimport { toggleMenu } from \"../../reducers/App\";\nimport MarkersPanel from './MarkersPanel';\nimport { MenuUnfoldOutlined } from '@ant-design/icons';\n\n\nconst { Panel } = Collapse;\n\n\nconst renderMenuTitle = (toggleMenu) => (\n  <Row>\n    <Col span={12}>\n      <span className=\"drawer-title\">Map Sandbox</span>\n    </Col>\n    <Col span={12}>\n      <Button icon={<MenuUnfoldOutlined/>} type='primary' style={{float:'right'}} onClick={toggleMenu}/>\n    </Col>\n  </Row>\n)\n\nconst Sidebar = ({ menuVisible, toggleMenu }) => {\n  return (\n    <Drawer\n      title={renderMenuTitle(toggleMenu)}\n      placement=\"right\"\n      width={400}\n      closable={false}\n      onClose={toggleMenu}\n      visible={menuVisible}\n      headerStyle={{background: '#1890ff', color: '#FFF'}}\n    >\n      <Collapse defaultActiveKey={[\"1\"]}>\n        <Panel header=\"Markers\" key=\"1\">\n          <div>\n            <MarkersPanel />\n          </div>\n        </Panel>\n        <Panel header=\"Polylines - Coming soon\" key=\"2\" disabled>\n          <p></p>\n        </Panel>\n        <Panel header=\"Polygons - Coming soon\" key=\"3\" disabled>\n          <p></p>\n        </Panel>\n      </Collapse>\n    </Drawer>\n  );\n};\n\nconst mapStateToProps = (state) => ({\n  menuVisible: state.app.menuOpen,\n});\n\nconst mapDispatch = { toggleMenu };\n\nexport default connect(mapStateToProps, mapDispatch)(Sidebar);\n","import './App.css';\nimport Map from './components/Map';\nimport Sidebar from './components/Sidebar';\n\nfunction App() {\n  return (\n    <div className=\"App\">\n        <Map />\n        <Sidebar />\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import { combineReducers } from 'redux'\nimport MarkersReducer from './Markers'\nimport AppReducer from './App';\n\nexport default combineReducers({\n   markers: MarkersReducer,\n   app: AppReducer,\n});","import { configureStore } from \"@reduxjs/toolkit\";\nimport RootReducer from \"../reducers/index\";\n\nconst store = configureStore({\n  reducer: RootReducer,\n});\n\nexport default store;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport 'antd/dist/antd.css';\nimport reportWebVitals from './reportWebVitals';\nimport { Provider } from \"react-redux\";\nimport store from './store';\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n    <App />\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}